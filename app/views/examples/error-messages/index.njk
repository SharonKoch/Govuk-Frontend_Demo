{% extends "layout.njk" %}

{% block styles %}
<style>
  .app-u-w-full {
    width: 100%;
  }

  .app-u-w-half {
    width: 50%;
    float: left;
  }

  .app-u-w-third {
    width: 33.33333333%;
    float: left;
  }

  .app-u-w-quarter {
    width: 25%;
    float: left;
  }

  .app-u-w-two-thirds {
    width: 66.66666667%;
    float: left;
  }
</style>
{% endblock %}

{% block content %}

{% from "fieldset/macro.njk" import govukFieldset %}
{% from "label/macro.njk" import govukLabel %}
{% from "input/macro.njk" import govukInput %}
{% from "date-input/macro.njk" import govukDateInput %}
{% from "button/macro.njk" import govukButton %}
{% from "select/macro.njk" import govukSelect %}
{% from 'checkboxes/macro.njk' import govukCheckboxes %}
{% from 'radios/macro.njk' import govukRadios %}
{% from 'textarea/macro.njk' import govukTextarea %}

<h1 class="govuk-heading-xl">Error messages</h1>


<form action="/" method="post">
  <h2 class="govuk-heading-m">Simple input</h2>

  {{ govukInput({
    label: {
      "text": "National Insurance Number"
    },
    id: "input-1",
    name: "test-name",
    error: {
      active: true,
      message: {
        text: "Error message goes here"
      }
    }
  }) }}

  <h2 class="govuk-heading-m">Multiple inputs with shared error message</h2>

    {# Use fieldset to wrap around components and render collective error #}
    {% call govukFieldset({
      legendText: "User address",
      error: {
        active: true,
        text: "Address not found"
      }
    }) %}
      {# Passing below to fieldset to render #}
      {{ govukInput({
        label: {
          "text": "Street"
        },
        id: "input-2",
        name: "test-name",
        error: {
          active: false,
          message: {
            text: "Error message goes here"
          }
        }
      }) }}
      {{ govukInput({
        label: {
          "text": "Town"
        },
        id: "input-3",
        name: "test-name",
        error: {
          active: false,
          message: {
            text: "Error message goes here"
          }
        }
      }) }}
      {{ govukInput({
        label: {
          "text": "City"
        },
        id: "input-4",
        name: "test-name",
        error: {
          active: false,
          message: {
            text: "Error message goes here"
          }
        }
      }) }}
    {# end fieldset render #}
    {% endcall %}

    <h2 class="govuk-heading-m">Radios with error message</h2>

    {{ govukRadios({
      fieldset: {
        legendHtml: "<h3 class=\"govuk-heading-m\">How do you want to be contacted?</h3>",
         error: {
          active: true,
          text: "Please select an option"
        }
      },
      idPrefix: "radio-stacked",
      name: "radio-stacked",
      items: [
        {
          value: "email",
          text: "Email"
        },
        {
          value: "phone",
          text: "Phone"
        },
        {
          value: "text",
          text: "Text message"
        }
      ]
    }) }}

    <h2 class="govuk-heading-m">Checkboxes with error message</h2>

    <span id="checkboxes-stacked"></span>
    {{ govukCheckboxes({
      fieldset: {
        legendHtml: "<h3 class=\"govuk-heading-m\">What type of waste do you want to dispose of?</h3>",
         error: {
          active: true,
          text: "Select type of waste"
        }
      },
      idPrefix: "checkboxes-stacked",
      name: "checkboxes-stacked",
      items: [
        {
          value: "waste-animal",
          text: "Waste from animal carcasses"
        },
        {
          value: "waste-mines",
          text: "Waste from mines or quarries"
        },
        {
          value: "waste-other",
          text: "Waste from other"
        }
      ]
    }) }}

    <h2 class="govuk-heading-m">Date input with error message</h2>

    {{- govukDateInput({
      fieldset: {
        legendText: 'What is your date of birth?',
        legendHintText: 'For example, 31 3 1980',
        error: {
         active: true,
         text: "Select date"
        }
      },
      errorMessage: {
        text: 'Error message goes here'
      },
      id: 'dob',
      name: 'dob',
      items:[
        {
          name: 'day',
          classes: 'govuk-c-input--error'
        },
        {
          name: 'month',
          classes: 'govuk-c-input--error'
        },
        {
          name: 'year',
          classes: 'govuk-c-input--error'
        }
      ]
      })
    -}}

    <h2 class="govuk-heading-m">Select with error message</h2>

    {{ govukSelect({
      id: "select-1",
      name: "select-1",
      label: {
        html: "Label text goes here"
      },
      error: {
        active: true,
        message: {
          html: "<i>Error message goes here</i>"
        }
      },
      items: [
        {
          value: 1,
          text: "GOV.UK frontend option 1"
        },
        {
          value: 2,
          text: "GOV.UK frontend option 2",
          selected: true
        },
        {
          value: 3,
          text: "GOV.UK frontend option 3"
        }
      ]
    }) }}

    <h2 class="govuk-heading-m">Textarea with error message</h2>

    {{ govukTextarea({
      id: "more-detail",
      name: "more-detail",
      label: {
        text: "Can you provide more detail?",
        hintText: "Don't include personal or financial information, eg your National Insurance number or credit card details."
      },
      error: {
        active: true,
        message: {
          text: "You must provide an explanation"
        }
      }
    })
    }}

    <h2 class="govuk-heading-m">Select and button</h2>

    {% call govukFieldset({
      legendText: "User address",
      error: {
        active: true,
        text: "Address not found"
      }
    }) %}
      <div class="app-u-w-half">
        {{ govukSelect({
          "id": "select-box",
          "name": "select-box",
          "items": [
            {
              "value": 1,
              "text": "GOV.UK elements option 1"
            },
            {
              "value": 2,
              "text": "GOV.UK elements option 2"
            },
            {
              "value": 3,
              "text": "GOV.UK elements option 3"
            }
          ]
        }) }}
      </div>
      <div class="app-u-w-half">
        {{ govukButton({
          "text": "Save and continue"
        }) }}
      </div>
    {%- endcall %}

    <h2 class="govuk-heading-m">Radios, checkboxes and button</h2>



    {% call govukFieldset({
      legendText: "User address",
      error: {
        active: true,
        text: "Address not found"
      }
    }) %}

      <div class="app-u-w-quarter">
        {{ govukCheckboxes({
          "idPrefix": "radio-checkboxes-button__checkboxes",
          "name": "radio-checkboxes-button__checkboxes",
          "items": [
            {
              "value": "2017-2018",
              "text": "2017 / 2018"
            }
          ]
        }) }}
      </div>
      <div class="app-u-w-quarter">
        {{ govukRadios({
          "idPrefix": "radio-checkboxes-button__radios",
          "name": "radio-group",
          "items": [
            {
              "value": "na",
              "text": "Not applicable"
            }
          ]
        }) }}
      </div>
      <div class="app-u-w-half">
        {{ govukButton({
          "text": "Save and continue"
        }) }}
      </div>
    {%- endcall %}


</form>

{% endblock %}
