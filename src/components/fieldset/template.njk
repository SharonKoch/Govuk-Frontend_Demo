<fieldset class="govuk-fieldset
  {%- set legend = params.legend if params.legend.text else {text: params.legend} %}
  {%- if params.classes %} {{ params.classes }}{% endif %}"
  {%- if params.describedBy %} aria-describedby="{{ params.describedBy }}"{% endif %}
  {% set role = params.role if params.role else params.attributes.role %}
  {%- if role %} role="{{ role }}"{% endif %}
  {%- for attribute, value in params.attributes %}{% if attribute !== 'role' %} {{ attribute }}="{{ value }}"{% endif %}{% endfor %}>
  {% if legend.text %}
  <legend class="govuk-fieldset__legend {%- if params.legend.classes %} {{ params.legend.classes }}{% endif %}">
  {%- if legend.isPageHeading %}
    <h1 class="govuk-fieldset__heading">
      {{ legend.text | safe if legend.safe else legend.text }}
    </h1>
  {% else %}
    {{ legend.text | safe if legend.safe else legend.text }}
  {% endif -%}
  </legend>
  {% endif %}
{{ caller() if caller }} {#- if statement allows usage of `call` to be optional -#}
</fieldset>
