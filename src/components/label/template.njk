{% set labelInput = params.text %}
{% if not labelInput %}
{% set labelInput %}{{ params }}{% endset %}
{% if labelInput === '[object Object]' %}{% set labelInput = '' %}{% endif %}
{% endif %}
{% if labelInput %}
{% set labelHtml %}
<label class="govuk-label{%- if params.classes %} {{ params.classes }}{% endif %}"
  {%- for attribute, value in params.attributes %} {{attribute}}="{{value}}"{% endfor %}
  {%- if params.for %} for="{{ params.for }}"{% endif %}>
  {{ labelInput | safe if params.safe else labelInput }}
</label>
{% endset %}

{% if params.isPageHeading %}
<h1 class="govuk-label-wrapper">{{ labelHtml | safe | indent(2) }}</h1>
{% else %}
{{ labelHtml | safe }}
{% endif %}
{% endif %}
